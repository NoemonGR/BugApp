<html>

<head>

  <meta charset="UTF-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">

  <link href="https://fonts.googleapis.com/css?family=Baloo+Bhai&display=swap" rel="stylesheet">
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">

</head>


<body>

  <h1>Bug Reporting System</h1>

  <div id="ReportBugDiv"> <button id="bugRep" (click)="goToEditPage()">Report a Bug</button></div>

  <div class="container">
      <form #searchForm="ngForm">
        <table>
          <tr>
            <th>
              <label>Title Search </label>
              <input type="text" #searchTitle="ngModel" name="searchTitle" [ngModel]="searchModel.title"
                autocomplete="off">
            </th>
            <th>
              <label> Priority Search </label>
              <select type="text" #searchPriority="ngModel" name="searchPriority" [ngModel]="searchModel.priority">
                <option selected="selected" value="">-Select-</option>
                <option *ngFor="let pri of priorities">{{pri}}</option>
              </select>
            </th>
            <th>
              <label> Reporter Search </label>
              <select type="text" #searchReporter="ngModel" name="searchReporter" [ngModel]="searchModel.reporter">
                <option selected="selected" value="">-Select-</option>
                <option *ngFor="let rep of reporters">{{rep}}</option>
                <!-- <option hidden="" disabled="disabled" selected="selected" value="">Select...</option> -->
              </select>
            </th>
            <th>
              <label> Status Search </label>
              <select type="text" #searchStatus="ngModel" name="searchStatus" [ngModel]="searchModel.status">
                <option selected="selected" value="">-Select-</option>
                <option *ngFor="let stat of statuses">{{stat}}</option>
              </select>
            </th>
            <th>
              <button (click)="search(searchForm)"><span>Search</span></button>
            </th>

          </tr>
        </table>
      </form>
      <table class="table-responsive">
      <table class="table table-hover table-dark" cellspacing="0" width="100%">
        <thead>
          <tr>
            <th><button (click)="sortByTitle()"><span>Title</span></button></th>
            <th><button (click)="sortByPriority()"><span>Priority</span></button></th>
            <th><button (click)="sortByReporter()"><span>Reporter</span></button></th>
            <th><button (click)="sortByDate()"><span>Date Created</span></button></th>
            <th><button (click)="sortByStatus()"><span>Status</span></button></th>
          </tr>
        </thead>

        <tbody>

        <tr *ngFor="let i of Bugs; let tempBug = index ">
          <td>{{i.title}}</td>
          <td>{{i.priority}}</td>
          <td>{{i.reporter}}</td>
          <td>{{i.createdAt | date}}</td>
          <td>{{i.status}}</td>
          <td><button type="button" id="{{tempBug}}" (click)="goToEditPageWithBug(tempBug)">Edit</button></td>
        </tr>
      </tbody>
      <thead>
        <tr>
          <td></td>
          <td></td>

            <td>
              <button (click)="goToPreviousPage()">prev</button>
            </td>

            <td>
              <button (click)="goToNextPage()">next</button>
            </td>

            <td></td> 
            <td></td>
        </tr>
      </thead>
      </table>
    </table>

  </div>
  </body>
  </html>
